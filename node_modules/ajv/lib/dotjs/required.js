"use strict";module.exports=function(r,e){var a,s,t=" ",o=r.level,h=r.dataLevel,i=r.schema[e],p=r.schemaPath+"."+e,l=r.errSchemaPath+"/"+e,m=!r.opts.allErrors,d="data"+(h||""),v="valid"+o,P=r.opts.v5&&i.$data;if(P?(t+=" var schema"+o+" = "+r.util.getData(i.$data,h,r.dataPathArr)+"; ",s="schema"+o):s=i,!P)if(i.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var c=[],u=i;if(u)for(var n,f=-1,y=u.length-1;y>f;){n=u[f+=1];var g=r.schema.properties[n];g&&r.util.schemaHasRules(g,r.RULES.all)||(c[c.length]=n)}}else var c=i;if(P||c.length){var E=r.errorPath,q=P||c.length>=r.opts.loopRequired;if(m)if(t+=" var missing"+o+"; ",q){P||(t+=" var schema"+o+" = validate.schema"+p+"; ");var D="i"+o,w="schema"+o+"["+D+"]",_="' + "+w+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,w,r.opts.jsonPointers)),t+=" var "+v+" = true; ",P&&(t+=" if (schema"+o+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+o+")) "+v+" = false; else {"),t+=" for (var "+D+" = 0; "+D+" < schema"+o+".length; "+D+"++) { "+v+" = "+d+"[schema"+o+"["+D+"]] !== undefined; if (!"+v+") break; } ",P&&(t+="  }  "),t+="  if (!"+v+") {   ";var S=S||[];S.push(t),t="",r.createErrors!==!1?(t+=" { keyword: '"+(a||"required")+"' , dataPath: (dataPath || '') + "+r.errorPath+' , schemaPath: "'+l+"\" , params: { missingProperty: '"+_+"' } ",r.opts.messages!==!1&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var b=t;t=S.pop(),t+=!r.compositeRule&&m?r.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else{t+=" if ( ";var k=c;if(k)for(var j,D=-1,R=k.length-1;R>D;){j=k[D+=1],D&&(t+=" || ");var A=r.util.getProperty(j);t+=" ( "+d+A+" === undefined && (missing"+o+" = "+r.util.toQuotedString(r.opts.jsonPointers?j:A)+") ) "}t+=") {  ";var w="missing"+o,_="' + "+w+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(E,w,!0):E+" + "+w);var S=S||[];S.push(t),t="",r.createErrors!==!1?(t+=" { keyword: '"+(a||"required")+"' , dataPath: (dataPath || '') + "+r.errorPath+' , schemaPath: "'+l+"\" , params: { missingProperty: '"+_+"' } ",r.opts.messages!==!1&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var b=t;t=S.pop(),t+=!r.compositeRule&&m?r.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else if(q){P||(t+=" var schema"+o+" = validate.schema"+p+"; ");var D="i"+o,w="schema"+o+"["+D+"]",_="' + "+w+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,w,r.opts.jsonPointers)),P&&(t+=" if (schema"+o+" && !Array.isArray(schema"+o+")) {  var err =   ",r.createErrors!==!1?(t+=" { keyword: '"+(a||"required")+"' , dataPath: (dataPath || '') + "+r.errorPath+' , schemaPath: "'+l+"\" , params: { missingProperty: '"+_+"' } ",r.opts.messages!==!1&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (schema"+o+" !== undefined) { "),t+=" for (var "+D+" = 0; "+D+" < schema"+o+".length; "+D+"++) { if ("+d+"[schema"+o+"["+D+"]] === undefined) {  var err =   ",r.createErrors!==!1?(t+=" { keyword: '"+(a||"required")+"' , dataPath: (dataPath || '') + "+r.errorPath+' , schemaPath: "'+l+"\" , params: { missingProperty: '"+_+"' } ",r.opts.messages!==!1&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",P&&(t+="  }  ")}else{var x=c;if(x)for(var L,Q=-1,V=x.length-1;V>Q;){L=x[Q+=1];var A=r.util.getProperty(L),_=r.util.escapeQuotes(L);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(E,L,r.opts.jsonPointers)),t+=" if ("+d+A+" === undefined) {  var err =   ",r.createErrors!==!1?(t+=" { keyword: '"+(a||"required")+"' , dataPath: (dataPath || '') + "+r.errorPath+' , schemaPath: "'+l+"\" , params: { missingProperty: '"+_+"' } ",r.opts.messages!==!1&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r.errorPath=E}else m&&(t+=" if (true) {");return t};