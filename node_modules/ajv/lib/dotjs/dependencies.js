"use strict";module.exports=function(e,r){var t,a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],p=e.schemaPath+"."+r,l=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,n="data"+(o||""),u="errs__"+s,v=e.util.copy(e),d="";v.level++;var c={},m={};for(y in i){var P=i[y],g=Array.isArray(P)?m:c;g[y]=P}a+="var "+u+" = errors;";var f=e.errorPath;a+="var missing"+s+";";for(var y in m){if(g=m[y],a+=" if ("+n+e.util.getProperty(y)+" !== undefined ",h){a+=" && ( ";var E=g;if(E)for(var Q,j=-1,w=E.length-1;w>j;){Q=E[j+=1],j&&(a+=" || ");var S=e.util.getProperty(Q);a+=" ( "+n+S+" === undefined && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?Q:S)+") ) "}a+=")) {  ";var b="missing"+s,_="' + "+b+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(f,b,!0):f+" + "+b);var C=C||[];C.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(t||"dependencies")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+"\" , params: { property: '"+e.util.escapeQuotes(y)+"', missingProperty: '"+_+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",a+=1==g.length?"property "+e.util.escapeQuotes(g[0]):"properties "+e.util.escapeQuotes(g.join(", ")),a+=" when property "+e.util.escapeQuotes(y)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),a+=" } "):a+=" {} ";var R=a;a=C.pop(),a+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+R+"]); ":" validate.errors = ["+R+"]; return false; ":" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var k=g;if(k)for(var x,A=-1,D=k.length-1;D>A;){x=k[A+=1];var S=e.util.getProperty(x),_=e.util.escapeQuotes(x);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(f,x,e.opts.jsonPointers)),a+=" if ("+n+S+" === undefined) {  var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(t||"dependencies")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+"\" , params: { property: '"+e.util.escapeQuotes(y)+"', missingProperty: '"+_+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",a+=1==g.length?"property "+e.util.escapeQuotes(g[0]):"properties "+e.util.escapeQuotes(g.join(", ")),a+=" when property "+e.util.escapeQuotes(y)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",h&&(d+="}",a+=" else { ")}e.errorPath=f;var I=v.baseId;for(var y in c){var P=c[y];e.util.schemaHasRules(P,e.RULES.all)&&(a+=" valid"+v.level+" = true; if ("+n+"['"+y+"'] !== undefined) { ",v.schema=P,v.schemaPath=p+e.util.getProperty(y),v.errSchemaPath=l+"/"+e.util.escapeFragment(y),a+="  "+e.validate(v)+" ",v.baseId=I,a+=" }  ",h&&(a+=" if (valid"+v.level+") { ",d+="}"))}return h&&(a+="   "+d+" if ("+u+" == errors) {"),a=e.util.cleanUpCode(a)};