/*!
 * Module dependencies.
 */
function Document(e,t,r,i,o){if(!(this instanceof Document))return new Document(e,t,r,i,o);if(utils.isObject(t)&&!t.instanceOfSchema&&(t=new Schema(t)),t=this.schema||t,!this.schema&&t.options._id&&(e=e||{},void 0===e._id&&(e._id=new ObjectId)),!t)throw new MongooseError.MissingSchemaError;this.$__setSchema(t),this.$__=new InternalCache,this.$__.emitter=new EventEmitter,this.isNew=!0,this.errors=void 0,"boolean"==typeof r?(this.$__.strictMode=r,r=void 0):(this.$__.strictMode=this.schema.options&&this.schema.options.strict,this.$__.selected=r);for(var s=this.schema.requiredPaths(),n=0;n<s.length;++n)this.$__.activePaths.require(s[n]);this.$__.emitter.setMaxListeners(0),this._doc=this.$__buildDoc(e,r,i),!o&&e&&this.init(e),this.$__registerHooksFromSchema();for(var c in t.methods)this[c]=t.methods[c];for(var h in t.statics)this[h]=t.statics[h]}var NodeJSDocument=require("./document"),EventEmitter=require("events").EventEmitter,MongooseError=require("./error"),Schema=require("./schema"),ObjectId=require("./types/objectid"),utils=require("./utils"),ValidationError=MongooseError.ValidationError,InternalCache=require("./internal");/*!
 * Inherit from the NodeJS document
 */
Document.prototype=Object.create(NodeJSDocument.prototype),Document.prototype.constructor=Document,/*!
 * Module exports.
 */
Document.ValidationError=ValidationError,module.exports=exports=Document;