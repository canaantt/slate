"use strict";var writeIEEE754=require("./float_parser").writeIEEE754,readIEEE754=require("./float_parser").readIEEE754,Map=require("./map"),Long=require("./long").Long,Double=require("./double").Double,Timestamp=require("./timestamp").Timestamp,ObjectID=require("./objectid").ObjectID,BSONRegExp=require("./regexp").BSONRegExp,Symbol=require("./symbol").Symbol,Code=require("./code").Code,Decimal128=require("./decimal128").Decimal128,MinKey=require("./min_key").MinKey,MaxKey=require("./max_key").MaxKey,DBRef=require("./db_ref").DBRef,Binary=require("./binary").Binary,deserialize=require("./parser/deserializer"),serializer=require("./parser/serializer"),calculateObjectSize=require("./parser/calculate_size"),MAXSIZE=17825792,buffer=new Buffer(MAXSIZE),BSON=function(){};BSON.prototype.serialize=function(e,r,N,B,S,O){var _=serializer(buffer,e,r,S||0,0,B,O),i=new Buffer(_);return buffer.copy(i,0,0,i.length),i},BSON.prototype.serializeWithBufferAndIndex=function(e,r,N,B,S,O){var _=serializer(buffer,e,r,B||0,0,S,O);return buffer.copy(N,B,0,_),_-1},BSON.prototype.deserialize=function(e,r){return deserialize(e,r)},BSON.prototype.calculateObjectSize=function(e,r,N){return calculateObjectSize(e,r,N)},BSON.prototype.deserializeStream=function(e,r,N,B,S,O){O=null!=O?O:{};for(var _=r,i=0;N>i;i++){var o=e[_]|e[_+1]<<8|e[_+2]<<16|e[_+3]<<24;O.index=_,B[S+i]=this.deserialize(e,O),_+=o}return _},BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,module.exports=BSON,module.exports.Code=Code,module.exports.Map=Map,module.exports.Symbol=Symbol,module.exports.BSON=BSON,module.exports.DBRef=DBRef,module.exports.Binary=Binary,module.exports.ObjectID=ObjectID,module.exports.Long=Long,module.exports.Timestamp=Timestamp,module.exports.Double=Double,module.exports.MinKey=MinKey,module.exports.MaxKey=MaxKey,module.exports.BSONRegExp=BSONRegExp,module.exports.Decimal128=Decimal128;