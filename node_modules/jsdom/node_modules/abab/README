<h1 id="abab">abab</h1>

<p><a href="https://www.npmjs.com/package/abab"><img alt="npm version" src="https://badge.fury.io/js/abab.svg" /></a> <a href="https://travis-ci.org/jsdom/abab"><img alt="Build Status" src="https://travis-ci.org/jsdom/abab.svg?branch=master" /></a></p>

<p>A module that implements <code class="prettyprint">window.atob</code> and <code class="prettyprint">window.btoa</code> according to the <a href="https://html.spec.whatwg.org/multipage/webappapis.html#atob">WHATWG spec</a>. The code is originally from <a href="https://github.com/w3c/web-platform-tests/blob/master/html/webappapis/atob/base64.html">w3c/web-platform-tests</a>.</p>

<p>Compatibility: Node.js version 3+ and all major browsers (using browserify or webpack)</p>

<p>Install with <code class="prettyprint">npm</code>:</p>
<pre class="highlight shell"><code>npm install abab
</code></pre>

<h2 id="api">API</h2>

<h3 id="btoa-base64-encode"><code class="prettyprint">btoa</code> (base64 encode)</h3>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">btoa</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'abab'</span><span class="p">).</span><span class="nx">btoa</span><span class="p">;</span>
<span class="nx">btoa</span><span class="p">(</span><span class="s1">'Hello, world!'</span><span class="p">);</span> <span class="c1">// 'SGVsbG8sIHdvcmxkIQ=='</span>
</code></pre>

<h3 id="atob-base64-decode"><code class="prettyprint">atob</code> (base64 decode)</h3>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">atob</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'abab'</span><span class="p">).</span><span class="nx">atob</span><span class="p">;</span>
<span class="nx">atob</span><span class="p">(</span><span class="s1">'SGVsbG8sIHdvcmxkIQ=='</span><span class="p">);</span> <span class="c1">// 'Hello, world!'</span>
</code></pre>

<h4 id="valid-characters">Valid characters</h4>

<p><a href="https://html.spec.whatwg.org/multipage/webappapis.html#atob:dom-windowbase64-btoa-3">Per the spec</a>, <code class="prettyprint">btoa</code> will accept strings &ldquo;containing only characters in the range <code class="prettyprint">U+0000</code> to <code class="prettyprint">U+00FF</code>.&rdquo; If passed a string with characters above <code class="prettyprint">U+00FF</code>, <code class="prettyprint">btoa</code> will return <code class="prettyprint">null</code>. If <code class="prettyprint">atob</code> is passed a string that is not base64-valid, it will also return <code class="prettyprint">null</code>. In both cases when <code class="prettyprint">null</code> is returned, the spec calls for throwing a <code class="prettyprint">DOMException</code> of type <code class="prettyprint">InvalidCharacterError</code>.</p>

<h2 id="browsers">Browsers</h2>

<p>If you want to include just one of the methods to save bytes in your client-side code, you can <code class="prettyprint">require</code> the desired module directly.</p>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">atob</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'abab/lib/atob'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">btoa</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'abab/lib/btoa'</span><span class="p">);</span>
</code></pre>

<hr>

<h3 id="checklists">Checklists</h3>

<p>If you&rsquo;re <strong>submitting a PR</strong> or <strong>deploying to npm</strong>, please use the <a href="https://github.com/jsdom/abab/blob/master/CONTRIBUTING.md#checklists">checklists in CONTRIBUTING.md</a></p>

<h3 id="remembering-atob-vs-btoa">Remembering <code class="prettyprint">atob</code> vs. <code class="prettyprint">btoa</code></h3>

<p>Here&rsquo;s a mnemonic that might be useful: if you have a plain string and want to base64 encode it, then decode it, <code class="prettyprint">btoa</code> is what you run before (<strong>b</strong>efore - <strong>b</strong>toa), and <code class="prettyprint">atob</code> is what you run after (<strong>a</strong>fter - <strong>a</strong>tob).</p>
