/*
 * Copyright (C) 2007-2016 Diego Perini
 * All rights reserved.
 *
 * nwmatcher-noqsa.js - A fast CSS selector engine and matcher
 *
 * Author: Diego Perini <diego.perini at gmail com>
 * Version: 1.3.8
 * Created: 20070722
 * Release: 20160613
 *
 * License:
 *  http://javascript.nwbox.com/NWMatcher/MIT-LICENSE
 * Download:
 *  http://javascript.nwbox.com/NWMatcher/nwmatcher.js
 */
!function(e,t){"object"==typeof module&&"object"==typeof exports?(module.exports=function(e){e.console=console,e.parseInt=parseInt,e.Function=Function,e.Boolean=Boolean,e.Number=Number,e.RegExp=RegExp,e.String=String,e.Object=Object,e.Array=Array,e.Error=Error,e.Date=Date,e.Math=Math;var n=e.Object();return t(e,n),n},module.factory=t):(t(e,(e.NW||(e.NW=e.Object()))&&(e.NW.Dom||(e.NW.Dom=e.Object()))),e.NW.Dom.factory=t)}(this,function(e,t){var n,r,i,a,s,o,c,l,f,u,d,m="nwmatcher-1.3.8",g=t,h=e.document,p=h.documentElement,b="([~*^$|!]?={1})",N="[\\s]|[>+~](?=[^>+~])",y="(?:[-+]?\\d*n)?[-+]?\\d*",v='"[^"\\\\]*(?:\\\\.[^"\\\\]*)*"'+"|'[^'\\\\]*(?:\\\\.[^'\\\\]*)*'",E="\\[.*\\]|\\(.*\\)|\\{.*\\}",x="(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)",k="(?:-?[_a-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)+",C="("+v+"|"+k+")",O="\\s*("+x+"*:?"+x+"+)\\s*(?:"+b+"\\s*"+C+")?\\s*",S=O.replace(C,"([\\x22\\x27]*)((?:\\\\?.)*?)\\3"),A="((?:"+y+"|"+v+"|[#.:]?|"+x+"+|\\["+O+"\\]|\\(.+\\)|\\s*|,)+)",I=".+",w="(?=\\s*[^>+~(){}<>])(\\*|(?:[#.:]?"+k+")|"+N+"|\\["+O+"\\]|\\("+A+"\\)|\\{"+I+"\\}|(?:,|\\s*))+",j=w.replace(A,".*"),T=e.RegExp(w),L=/^\s*|\s*$/g,R=e.RegExp("^((?!:not)([#.:]?|"+k+"|\\([^()]*\\))+|\\["+O+"\\])$"),U=/([^,\\()[\]]+|\[[^[\]]*\]|\[.*\]|\([^()]+\)|\(.*\)|\{[^{}]+\}|\{.*\}|\\.)+/g,D=e.RegExp("(\\["+O+"\\]|\\("+A+"\\)|\\\\.|[^\\s>+~])+","g"),B=e.RegExp(k+"|^$"),$="getElementsByTagName"in h,M="getElementsByClassName"in h,H=e.Object({a:1,A:1,area:1,AREA:1,link:1,LINK:1}),_=e.Object({checked:1,disabled:1,ismap:1,multiple:1,readonly:1,selected:1}),F=e.Object({value:"defaultValue",checked:"defaultChecked",selected:"defaultSelected"}),z=e.Object({action:2,cite:2,codebase:2,data:2,href:2,longdesc:2,lowsrc:2,src:2,usemap:2}),G=e.Object({}),P=e.Object({"=":"n=='%m'","^=":"n.indexOf('%m')==0","*=":"n.indexOf('%m')>-1","|=":"(n+'-').indexOf('%m-')==0","~=":"(' '+n+' ').indexOf(' %m ')>-1","$=":"n.substr(n.length-'%m'.length)=='%m'"}),V=e.Object({ID:e.RegExp("^\\*?#("+x+"+)|"+E),TAG:e.RegExp("^("+x+"+)|"+E),CLASS:e.RegExp("^\\*?\\.("+x+"+$)|"+E)}),W=e.Object({spseudos:/^\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\(\s*(even|odd|(?:[-+]{0,1}\d*n\s*)?[-+]{0,1}\s*\d*)\s*\))?(.*)/i,dpseudos:/^\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\(([-\w]{2,})\)|not\(\s*(:nth(?:-last)?(?:-child|-of-type)\(\s*(?:even|odd|(?:[-+]{0,1}\d*n\s*)?[-+]{0,1}\s*\d*)\s*\)|[^()]*)\s*\))?(.*)/i,attribute:e.RegExp("^\\["+S+"\\](.*)"),children:/^\s*\>\s*(.*)/,adjacent:/^\s*\+\s*(.*)/,relative:/^\s*\~\s*(.*)/,ancestor:/^\s+(.*)/,universal:/^\*(.*)/,id:e.RegExp("^#("+x+"+)(.*)"),tagName:e.RegExp("^("+x+"+)(.*)"),className:e.RegExp("^\\.("+x+"+)(.*)")}),Q=function(e,t,n){for(var r,i=-1;(r=t[++i])&&!1!==n(e[e.length]=r););return e},Y=function(e,t){var n=h;a=e,h=e.ownerDocument||e,(t||n!==h)&&(p=h.documentElement,d="DiV"==h.createElement("DiV").nodeName,u=d||"string"!=typeof h.compatMode?function(){var e=h.createElement("div").style;return e&&(e.width=1)&&"1px"==e.width}():h.compatMode.indexOf("CSS")<0,le.CACHING&&g.setCache(!0,h))},K=function(e){return e.replace(/\\([0-9a-fA-F]{1,6}\x20?|.)|([\x22\x27])/g,function(e,t,n){var r,i,a,s,o;return n?"\\"+n:/^[0-9a-fA-F]/.test(t)?(r=parseInt(t,16),0>r||r>1114111?"\\ufffd":65535>=r?(s="000"+r.toString(16),"\\u"+s.substr(s.length-4)):(r-=65536,a=(r>>10)+55296,o=r%1024+56320,i="000"+a.toString(16),s="000"+o.toString(16),"\\u"+i.substr(i.length-4)+"\\u"+s.substr(s.length-4))):/^[\\\x22\x27]/.test(t)?e:t})},Z=function(e,t){for(var n=-1,r=null;(r=t[++n])&&r.getAttribute("id")!=e;);return r},q="fileSize"in h?function(e,t){var n=null;return e=e.replace(/\\([^\\]{1})/g,"$1"),d||9!=t.nodeType?Z(e,t.getElementsByTagName("*")):(n=t.getElementById(e))&&n.name==e&&t.getElementsByName?Z(e,t.getElementsByName(e)):n}:function(e,t){return e=e.replace(/\\([^\\]{1})/g,"$1"),t.getElementById&&t.getElementById(e)||Z(e,t.getElementsByTagName("*"))},J=function(e,t){return t||(t=h),a!==t&&Y(t),q(e,t)},X=function(t,n){var r="*"==t,i=n,a=e.Array(),s=i.firstChild;for(r||(t=t.toUpperCase());i=s;)if(i.tagName>"@"&&(r||i.tagName.toUpperCase()==t)&&(a[a.length]=i),!(s=i.firstChild||i.nextSibling))for(;!s&&(i=i.parentNode)&&i!==n;)s=i.nextSibling;return a},ee="compareDocumentPosition"in p?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:"contains"in p?function(e,t){return 1==t.nodeType&&e.contains(t)}:function(e,t){for(;(t=t.parentNode)&&1==t.nodeType;)if(t===e)return!0;return!1},te=function(e,t){return t=t.toLowerCase(),"object"==typeof e[t]?e.attributes[t]&&e.attributes[t].value:"type"==t?e.getAttribute(t):z[t]?e.getAttribute(t,2):_[t]?e.getAttribute(t)?t:"false":(e=e.getAttributeNode(t))&&e.value},ne=p.hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){var n=e.getAttributeNode(t=t.toLowerCase());return F[t]&&"value"!=t?e[F[t]]:n&&n.specified},re=function(e){return e.getAttribute("href")&&H[e.nodeName]},ie=function(e){for(e=e.firstChild;e;){if(3==e.nodeType||e.nodeName>"@")return!1;e=e.nextSibling}return!0},ae=function(e,t){for(var n=1,r=t?"nextSibling":"previousSibling";e=e[r];)e.nodeName>"@"&&++n;return n},se=function(e,t){for(var n=1,r=t?"nextSibling":"previousSibling",i=e.nodeName;e=e[r];)e.nodeName==i&&++n;return n},oe=function(t){if("string"==typeof t)return le[t]||le;if("object"!=typeof t)return!1;for(var n in t)le[n]=!!t[n],"SIMPLENOT"==n&&(xe=e.Object(),ke=e.Object(),Ce=e.Object(),Oe=e.Object());return T=e.RegExp(le.SIMPLENOT?w:j),!0},ce=function(t){if(le.VERBOSITY)throw e.Error(t);e.console&&e.console.log&&e.console.log(t)},le=e.Object({CACHING:!1,SIMPLENOT:!0,UNIQUE_ID:!0,USE_HTML5:!0,VERBOSITY:!0}),fe="function"!=typeof h.addEventListener,ue=e.Object({"class":0,href:1,lang:1,src:1,style:1,title:1,type:1,xmlns:1,"xml:lang":1,"xml:space":1}),de=fe?".toUpperCase()":"",me="r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;",ge=fe?'if(e.nodeName<"A")continue;':"",he=function(t,n,r){var i="string"==typeof t?t.match(U):t;if("string"==typeof n||(n=""),1==i.length)n+=be(i[0],r?me:"f&&f(k);return true;",r);else for(var a,s=-1,o=e.Object();a=i[++s];)a=a.replace(L,""),!o[a]&&(o[a]=!0)&&(n+=be(a,r?me:"f&&f(k);return true;",r));return r?e.Function("c,s,r,d,h,g,f,v","var N,n,x=0,k=-1,e;main:while((e=c[++k])){"+n+"}return r;"):e.Function("e,s,r,d,h,g,f,v","var N,n,x=0,k=e;"+n+"return false;")},pe="var z=v[@]||(v[@]=[]),l=z.length-1;while(l>=0&&z[l]!==e)--l;if(l!==-1){break;}z[z.length]=e;",be=function(t,n,r){for(var i,a,s,o,c,l,f,m,g,p=0;t;){if(p++,c=t.match(W.universal))o="";else if(c=t.match(W.id))n="if("+(d?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+c[1]+'"){'+n+"}";else if(c=t.match(W.tagName))n="if(e.nodeName"+(d?'=="'+c[1]+'"':de+'=="'+c[1].toUpperCase()+'"')+"){"+n+"}";else if(c=t.match(W.className))n="if((n="+(d?'e.getAttribute("class")':"e.className")+')&&n.length&&(" "+'+(u?"n.toLowerCase()":"n")+'.replace(/\\s+/g," ")+" ").indexOf(" '+(u?c[1].toLowerCase():c[1])+' ")>-1){'+n+"}";else if(c=t.match(W.attribute)){if(c[2]&&!P[c[2]])return ce('Unsupported operator in attribute selectors "'+t+'"'),"";m="false",c[2]&&c[4]&&(m=P[c[2]])?(c[4]=K(c[4]),ue["class"]=u?1:0,g=ue[c[1].toLowerCase()],m=m.replace(/\%m/g,g?c[4].toLowerCase():c[4])):("!="==c[2]||"="==c[2])&&(m="n"+c[2]+'=""'),n='if(n=s.hasAttribute(e,"'+c[1]+'")){'+(c[2]?'n=s.getAttribute(e,"'+c[1]+'")':"")+(g&&c[2]?".toLowerCase();":";")+"if("+(c[2]?m:"n")+"){"+n+"}}"}else if(c=t.match(W.adjacent))n=(r?"":pe.replace(/@/g,p))+n,n="var N"+p+'=e;while(e&&(e=e.previousSibling)){if(e.nodeName>"@"){'+n+"break;}}e=N"+p+";";else if(c=t.match(W.relative))n=(r?"":pe.replace(/@/g,p))+n,n="var N"+p+"=e;e=e.parentNode.firstChild;while(e&&e!==N"+p+'){if(e.nodeName>"@"){'+n+"}e=e.nextSibling;}e=N"+p+";";else if(c=t.match(W.children))n=(r?"":pe.replace(/@/g,p))+n,n="var N"+p+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+n+"break;}e=N"+p+";";else if(c=t.match(W.ancestor))n=(r?"":pe.replace(/@/g,p))+n,n="var N"+p+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+n+"}e=N"+p+";";else if((c=t.match(W.spseudos))&&c[1])switch(c[1]){case"root":n=c[3]?"if(e===h||s.contains(h,e)){"+n+"}":"if(e===h){"+n+"}";break;case"empty":n="if(s.isEmpty(e)){"+n+"}";break;default:if(c[1]&&c[2]){if("n"==c[2]){n="if(e!==h){"+n+"}";break}"even"==c[2]?(i=2,a=0):"odd"==c[2]?(i=2,a=1):(a=(s=c[2].match(/(-?\d+)$/))?e.parseInt(s[1],10):0,i=(s=c[2].match(/(-?\d*)n/i))?e.parseInt(s[1],10):0,s&&"-"==s[1]&&(i=-1)),m=i>1?/last/i.test(c[1])?"(n-("+a+"))%"+i+"==0":"n>="+a+"&&(n-("+a+"))%"+i+"==0":-1>i?/last/i.test(c[1])?"(n-("+a+"))%"+i+"==0":"n<="+a+"&&(n-("+a+"))%"+i+"==0":0===i?"n=="+a:-1==i?"n<="+a:"n>="+a,n="if(e!==h){n=s["+(/-of-type/i.test(c[1])?'"nthOfType"':'"nthElement"')+"](e,"+(/last/i.test(c[1])?"true":"false")+");if("+m+"){"+n+"}}"}else i=/first/i.test(c[1])?"previous":"next",s=/only/i.test(c[1])?"previous":"next",a=/first|last/i.test(c[1]),g=/-of-type/i.test(c[1])?"&&n.nodeName!=e.nodeName":'&&n.nodeName<"@"',n="if(e!==h){"+("n=e;while((n=n."+i+"Sibling)"+g+");if(!n){"+(a?n:"n=e;while((n=n."+s+"Sibling)"+g+");if(!n){"+n+"}")+"}")+"}"}else if((c=t.match(W.dpseudos))&&c[1])switch(c[1].match(/^\w+/)[0]){case"not":if(o=c[3].replace(L,""),le.SIMPLENOT&&!R.test(o))return ce('Negation pseudo-class only accepts simple selectors "'+t+'"'),"";n="compatMode"in h?"if(!"+he(o,"",!1)+"(e,s,r,d,h,g)){"+n+"}":'if(!s.match(e, "'+o.replace(/\x22/g,'\\"')+'",g)){'+n+"}";break;case"checked":n='if((typeof e.form!=="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)'+(le.USE_HTML5?"||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))":"")+"){"+n+"}";break;case"disabled":n='if(((typeof e.form!=="undefined"'+(le.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===true){"+n+"}";break;case"enabled":n='if(((typeof e.form!=="undefined"'+(le.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===false){"+n+"}";break;case"lang":m="",c[2]&&(m=c[2].substr(0,2)+"-"),n='do{(n=e.lang||"").toLowerCase();if((n==""&&h.lang=="'+c[2].toLowerCase()+'")||(n&&(n=="'+c[2].toLowerCase()+'"||n.substr(0,3)=="'+m.toLowerCase()+'"))){'+n+"break;}}while((e=e.parentNode)&&e!==g);";break;case"target":n="if(e.id==d.location.hash.slice(1)){"+n+"}";break;case"link":n="if(s.isLink(e)&&!e.visited){"+n+"}";break;case"visited":n="if(s.isLink(e)&&e.visited){"+n+"}";break;case"active":n="if(e===d.activeElement){"+n+"}";break;case"hover":n="if(e===d.hoverElement){"+n+"}";break;case"focus":n="hasFocus"in h?'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex=="number")){'+n+"}":"if(e===d.activeElement&&(e.type||e.href)){"+n+"}";break;case"selected":n="if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked)){"+n+"}"}else{o=!1,f=!1;for(o in G)if((c=t.match(G[o].Expression))&&c[1]&&(l=G[o].Callback(c,n),n=l.source,f=l.status))break;if(!f)return ce('Unknown pseudo-class selector "'+t+'"'),"";if(!o)return ce('Unknown token in selector "'+t+'"'),""}if(!c)return ce('Invalid syntax in selector "'+t+'"'),"";t=c&&c[c.length-1]}return n},Ne=function(e,t,r,i){var s;if(!e||1!=e.nodeType)return ce("Invalid element argument"),!1;if("string"!=typeof t)return ce("Invalid selector argument"),!1;if(a!==r&&Y(r||(r=e.ownerDocument)),t=t.replace(L,""),le.SHORTCUTS&&(t=g.shortcuts(t,e,r)),o!=t){if(!(s=t.match(T))||s[0]!=t)return ce('The string "'+t+'", is not a valid CSS selector'),!1;n=(s=t.match(U)).length<2,o=t,l=s}else s=l;return ke[t]&&xe[t]===r||(ke[t]=he(n?[t]:s,"",!1),xe[t]=r),ke[t](e,Se,[],h,p,r,i,{})},ye=function(e,t){return ve(e,t,function(){return!1})[0]||null},ve=function(t,n,o){var l,u,m,b,N,y=t;if(0===arguments.length)return ce("Not enough arguments"),[];if("string"!=typeof t)return[];if(n&&!/1|9|11/.test(n.nodeType))return ce("Invalid or illegal context element"),[];if(a!==n&&Y(n||(n=h)),le.CACHING&&(m=g.loadResults(y,n,h,p)))return o?Q([],m,o):m;if(t=t.replace(L,""),le.SHORTCUTS&&(t=g.shortcuts(t,n)),l=c!=t){if(!(b=t.match(T))||b[0]!=t)return ce('The string "'+t+'", is not a valid CSS selector'),[];r=(b=t.match(U)).length<2,c=t,f=b}else b=f;if(11==n.nodeType)m=X("*",n);else if(r){if(l&&(b=t.match(D),N=b[b.length-1],i=N.split(":not"),i=i[i.length-1],s=t.length-N.length),le.UNIQUE_ID&&(b=i.match(V.ID))&&(N=b[1])?(u=q(N,n))&&(Ne(u,t)?(o&&o(u),m=e.Array(u)):m=e.Array()):le.UNIQUE_ID&&(b=t.match(V.ID))&&(N=b[1])&&((u=q(N,h))?"#"+N==t?(o&&o(u),m=e.Array(u)):n=/[>+~]/.test(t)?u.parentNode:u:m=e.Array()),m)return le.CACHING&&g.saveResults(y,n,h,m),m;if(!d&&$&&(b=i.match(V.TAG))&&(N=b[1])){if(0===(m=n.getElementsByTagName(N)).length)return[];t=t.slice(0,s)+t.slice(s).replace(N,"*")}else if(!d&&M&&(b=i.match(V.CLASS))&&(N=b[1])){if(0===(m=n.getElementsByClassName(N.replace(/\\([^\\]{1})/g,"$1"))).length)return[];t=t.slice(0,s)+t.slice(s).replace("."+N,B.test(t.charAt(t.indexOf(N)-1))?"":"*")}}return m||(m=fe?/^(?:applet|object)$/i.test(n.nodeName)?n.childNodes:n.all:n.getElementsByTagName("*")),Oe[t]&&Ce[t]===n||(Oe[t]=he(r?[t]:b,ge,!0),Ce[t]=n),m=Oe[t](m,Se,[],h,p,n,o,{}),le.CACHING&&g.saveResults(y,n,h,m),m},Ee=function(e){return e},xe=e.Object(),ke=e.Object(),Ce=e.Object(),Oe=e.Object(),Se=e.Object({byId:q,match:Ne,select:ve,isLink:re,isEmpty:ie,contains:ee,nthOfType:se,nthElement:ae,getAttribute:te,hasAttribute:ne});g.ACCEPT_NODE=me,g.byId=J,g.match=Ne,g.first=ye,g.select=ve,g.compile=he,g.contains=ee,g.configure=oe,g.getAttribute=te,g.hasAttribute=ne,g.setCache=Ee,g.shortcuts=Ee,g.loadResults=Ee,g.saveResults=Ee,g.emit=ce,g.Config=le,g.Snapshot=Se,g.Operators=P,g.Selectors=G,g.Version=m,g.registerOperator=function(e,t){P[e]||(P[e]=t)},g.registerSelector=function(t,n,r){G[t]||(G[t]=e.Object({Expression:n,Callback:r}))},Y(h,!0)});