/*
 * Copyright (C) 2007-2016 Diego Perini
 * All rights reserved.
 *
 * this is just a small example to show
 * how an extension for NWMatcher could be
 * adapted to handle WebForms/HTML5 selectors
 *
 * Pseudo Selectors
 * :default, :indeterminate, :optional, :required,
 * :valid, :invalid, :in-range, :out-of-range,
 * :read-only, :read-write
 * :has, :matches (not yet in a defined specification)
 *
 */
NW.Dom.registerSelector("html5:pseudos",/^\:(default|indeterminate|optional|required|valid|invalid|in-range|out-of-range|read-only|read-write)(.*)/,function(e){return function(i,t){var d=!0;e.Object({"default":4,indeterminate:4,invalid:4,valid:4,optional:4,required:4,"read-write":4,"read-only":4});switch(i[1]){case"default":t='if(((typeof e.form!=="undefined"&&(/radio|checkbox/i).test(e.type))||/option/i.test(e.nodeName))&&(e.defaultChecked||e.defaultSelected)){'+t+"}";break;case"indeterminate":t='if(typeof e.form!=="undefined"&&(/radio|checkbox/i).test(e.type)&&s.select("[checked]",e.form).length===0){'+t+"}";break;case"optional":t='if(typeof e.form!=="undefined"&&typeof e.required!="undefined"&&!e.required){'+t+"}";break;case"required":t='if(typeof e.form!=="undefined"&&typeof e.required!="undefined"&&e.required){'+t+"}";break;case"read-write":t='if(typeof e.form!=="undefined"&&typeof e.readOnly!="undefined"&&!e.readOnly){'+t+"}";break;case"read-only":t='if(typeof e.form!=="undefined"&&typeof e.readOnly!="undefined"&&e.readOnly){'+t+"}";break;case"invalid":t='if(typeof e.form!=="undefined"&&typeof e.validity=="object"&&!e.validity.valid){'+t+"}";break;case"valid":t='if(typeof e.form!=="undefined"&&typeof e.validity=="object"&&e.validity.valid){'+t+"}";break;case"in-range":t='if(typeof e.form!=="undefined"&&(s.getAttribute(e,"min")||s.getAttribute(e,"max"))&&typeof e.validity=="object"&&!e.validity.typeMismatch&&!e.validity.rangeUnderflow&&!e.validity.rangeOverflow){'+t+"}";break;case"out-of-range":t='if(typeof e.form!=="undefined"&&(s.getAttribute(e,"min")||s.getAttribute(e,"max"))&&typeof e.validity=="object"&&(e.validity.rangeUnderflow||e.validity.rangeOverflow)){'+t+"}";break;default:d=!1}return e.Object({source:t,status:d})}}(this));