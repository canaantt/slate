<h1 id="nwmatcher"><a href="http://dperini.github.io/nwmatcher/">NWMatcher</a></h1>

<p>A fast CSS selector engine and matcher.</p>

<h2 id="installation">Installation</h2>

<p>To include NWMatcher in a standard web page:</p>
<pre class="highlight html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"nwmatcher.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>

<p>To use it with Node.js:</p>
<pre class="highlight plaintext"><code>$ npm install nwmatcher
</code></pre>

<p>NWMatcher currently supports browsers (as a global, <code class="prettyprint">NW.Dom</code>) and headless environments (as a CommonJS module).</p>

<h2 id="supported-selectors">Supported Selectors</h2>

<p>Here is a list of all the CSS2/CSS3 <a href="https://github.com/dperini/nwmatcher/wiki/CSS-supported-selectors">Supported selectors</a>.</p>

<h2 id="features-and-compliance">Features and Compliance</h2>

<p>You can read more about NWMatcher <a href="https://github.com/dperini/nwmatcher/wiki/Features-and-compliance">features and compliance</a> on the wiki.</p>

<h2 id="api">API</h2>

<h3 id="dom-selection">DOM Selection</h3>

<h4 id="first-selector-context"><code class="prettyprint">first( selector, context )</code></h4>

<p>Returns a reference to the first element matching <code class="prettyprint">selector</code>, starting at <code class="prettyprint">context</code>.</p>

<h4 id="match-element-selector-context"><code class="prettyprint">match( element, selector, context )</code></h4>

<p>Returns <code class="prettyprint">true</code> if <code class="prettyprint">element</code> matches <code class="prettyprint">selector</code>, starting at <code class="prettyprint">context</code>; returns <code class="prettyprint">false</code> otherwise.</p>

<h4 id="select-selector-context-callback"><code class="prettyprint">select( selector, context, callback )</code></h4>

<p>Returns an array of all the elements matching <code class="prettyprint">selector</code>, starting at <code class="prettyprint">context</code>. If <code class="prettyprint">callback</code> is provided, it is invoked for each matching element.</p>

<h3 id="dom-helpers">DOM Helpers</h3>

<h4 id="byid-id-from"><code class="prettyprint">byId( id, from )</code></h4>

<p>Returns a reference to the first element with ID <code class="prettyprint">id</code>, optionally filtered to descendants of the element <code class="prettyprint">from</code>.</p>

<h4 id="bytag-tag-from"><code class="prettyprint">byTag( tag, from )</code></h4>

<p>Returns an array of elements having the specified tag name <code class="prettyprint">tag</code>, optionally filtered to descendants of the element <code class="prettyprint">from</code>.</p>

<h4 id="byclass-class-from"><code class="prettyprint">byClass( class, from )</code></h4>

<p>Returns an array of elements having the specified class name <code class="prettyprint">class</code>, optionally filtered to descendants of the element <code class="prettyprint">from</code>.</p>

<h4 id="byname-name-from"><code class="prettyprint">byName( name, from )</code></h4>

<p>Returns an array of elements having the specified value <code class="prettyprint">name</code> for their name attribute, optionally filtered to descendants of the element <code class="prettyprint">from</code>.</p>

<h4 id="getattribute-element-attribute"><code class="prettyprint">getAttribute( element, attribute )</code></h4>

<p>Return the value read from the attribute of <code class="prettyprint">element</code> with name <code class="prettyprint">attribute</code>, as a string.</p>

<h4 id="hasattribute-element-attribute"><code class="prettyprint">hasAttribute( element, attribute )</code></h4>

<p>Returns true <code class="prettyprint">element</code> has an attribute with name <code class="prettyprint">attribute</code> set; returns <code class="prettyprint">false</code> otherwise.</p>

<h3 id="engine-configuration">Engine Configuration</h3>

<h4 id="configure-options"><code class="prettyprint">configure( options )</code></h4>

<p>The following options exist and can be set to <code class="prettyprint">true</code> or <code class="prettyprint">false</code>:</p>

<ul>
<li><code class="prettyprint">CACHING</code>: enable caching of results</li>
<li><code class="prettyprint">SHORTCUTS</code>: allow accepting mangled selectors</li>
<li><code class="prettyprint">SIMPLENOT</code>: disallow nested complex <code class="prettyprint">:not()</code> selectors</li>
<li><code class="prettyprint">UNIQUE_ID</code>: disallow multiple elements with same ID</li>
<li><code class="prettyprint">USE_QSAPI</code>: enable native <code class="prettyprint">querySelectorAll</code> if available</li>
<li><code class="prettyprint">USE_HTML5</code>: enable special HTML5 rules, related to the relationship between <code class="prettyprint">:checked</code> and <code class="prettyprint">:selected</code></li>
<li><code class="prettyprint">VERBOSITY</code>: choose between throwing errors or just console warnings</li>
</ul>

<p>Example:</p>
<pre class="highlight javascript"><code><span class="nx">NW</span><span class="p">.</span><span class="nx">Dom</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span> <span class="p">{</span> <span class="na">USE_QSAPI</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">VERBOSITY</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">);</span>
</code></pre>

<h4 id="registeroperator-symbol-resolver"><code class="prettyprint">registerOperator( symbol, resolver )</code></h4>

<p>Registers a new symbol and its matching resolver in the operators table. Example:</p>
<pre class="highlight javascript"><code><span class="nx">NW</span><span class="p">.</span><span class="nx">Dom</span><span class="p">.</span><span class="nx">registerOperator</span><span class="p">(</span> <span class="s1">'!='</span><span class="p">,</span> <span class="s1">'n!="%m"'</span> <span class="p">);</span>
</code></pre>

<h4 id="registerselector-name-rexp-func"><code class="prettyprint">registerSelector( name, rexp, func )</code></h4>

<p>Registers a new selector, with the matching regular expression and the appropriate resolver function, in the selectors table.</p>
