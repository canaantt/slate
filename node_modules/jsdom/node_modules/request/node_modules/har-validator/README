<h1 id="har-validator">HAR Validator <a href="https://www.npmjs.com/package/har-validator"><img alt="version" src="https://img.shields.io/npm/v/har-validator.svg?style=flat-square" /></a> <a href="https://github.com/ahmadnassri/har-validator/blob/master/LICENSE"><img alt="License" src="https://img.shields.io/npm/l/har-validator.svg?style=flat-square" /></a></h1>

<p>Extremely fast HTTP Archive (<a href="http://www.softwareishard.com/blog/har-12-spec/">HAR</a>) validator using JSON Schema.</p>

<p><a href="https://travis-ci.org/ahmadnassri/har-validator"><img alt="Build Status" src="https://img.shields.io/travis/ahmadnassri/har-validator.svg?style=flat-square" /></a>
<a href="https://www.npmjs.com/package/har-validator"><img alt="Downloads" src="https://img.shields.io/npm/dm/har-validator.svg?style=flat-square" /></a>
<a href="https://codeclimate.com/github/ahmadnassri/har-validator"><img alt="Code Climate" src="https://img.shields.io/codeclimate/github/ahmadnassri/har-validator.svg?style=flat-square" /></a>
<a href="https://codeclimate.com/github/ahmadnassri/har-validator"><img alt="Coverage Status" src="https://img.shields.io/codeclimate/coverage/github/ahmadnassri/har-validator.svg?style=flat-square" /></a>
<a href="https://david-dm.org/ahmadnassri/har-validator"><img alt="Dependencies" src="https://img.shields.io/david/ahmadnassri/har-validator.svg?style=flat-square" /></a></p>

<h2 id="install">Install</h2>
<pre class="highlight shell"><code><span class="c"># to use in cli</span>
npm install --global har-validator

<span class="c"># to use as a module</span>
npm install --save har-validator
</code></pre>

<h2 id="usage">Usage</h2>
<pre class="highlight plaintext"><code>
  Usage: har-validator [options] &lt;files ...&gt;

  Options:

    -h, --help           output usage information
    -V, --version        output the version number
    -s, --schema [name]  validate schema name (log, request, response, etc ...)

</code></pre>

<h6 id="example">Example</h6>
<pre class="highlight shell"><code>har-validator har.json

har-validator --schema request request.json
</code></pre>

<h2 id="api">API</h2>

<p><strong>Note</strong>: as of <a href="https://github.com/ahmadnassri/har-validator/releases/tag/v2.0.0"><code class="prettyprint">v2.0.0</code></a> this module defaults to Promise based API. <em>For backward comptability with <code class="prettyprint">v1.x</code> an <a href="#callback-api">async/callback API</a> is provided</em></p>

<h3 id="validate-data">Validate(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a full <a href="http://www.softwareishard.com/blog/har-12-spec/">HAR</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-log-data">Validate.log(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#log">log</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-cache-data">Validate.cache(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#cache">cache</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">cache</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-cacheentry-data">Validate.cacheEntry(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#cache">&ldquo;beforeRequest&rdquo; or &ldquo;afterRequest&rdquo;</a> objects</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">cacheEntry</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-content-data">Validate.content(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#content">content</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">content</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-cookie-data">Validate.cookie(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#cookies">cookie</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">cookie</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-creator-data">Validate.creator(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#creator">creator</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">creator</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-entry-data">Validate.entry(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
an <a href="http://www.softwareishard.com/blog/har-12-spec/#entries">entry</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">entry</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-log-data">Validate.log(data)</h3>

<p>alias of <a href="#validate-data-callback-"><code class="prettyprint">Validate(data)</code></a></p>

<h3 id="validate-page-data">Validate.page(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#pages">page</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">page</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-pagetimings-data">Validate.pageTimings(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#pageTimings">pageTimings</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">pageTimings</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-postdata-data">Validate.postData(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#postData">postData</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">postData</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-record-data">Validate.record(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#headers">record</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">record</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-request-data">Validate.request(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#request">request</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-response-data">Validate.response(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#response">response</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">cacheEntry</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<h3 id="validate-timings-data">Validate.timings(data)</h3>

<blockquote>
<p>Returns a promise that resolves to the valid object.</p>
</blockquote>

<ul>
<li><strong>data</strong>: <code class="prettyprint">Object</code> <em>(Required)</em>
a <a href="http://www.softwareishard.com/blog/har-12-spec/#timings">timings</a> object</li>
</ul>
<pre class="highlight javascript"><code><span class="nx">validate</span><span class="p">.</span><span class="nx">timings</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
</code></pre>

<hr>

<h2 id="callback-api">Callback API</h2>

<h3 id="validate-data-callback">Validate(data [, callback])</h3>

<blockquote>
<p>Returns <code class="prettyprint">true</code> or <code class="prettyprint">false</code>.</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">HAR</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./har.json'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">validate</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'har-validator/lib/async'</span><span class="p">);</span>

<span class="nx">validate</span><span class="p">(</span><span class="nx">HAR</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">valid</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">errors</span><span class="p">)</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">valid</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'horray!'</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<p>The async API provides exactly the same methods as the <a href="#promise-api">Promise API</a></p>

<hr>

<h2 id="support">Support</h2>

<p>Donations are welcome to help support the continuous development of this project.</p>

<p><a href="https://www.gratipay.com/ahmadnassri/"><img alt="Gratipay" src="https://img.shields.io/gratipay/ahmadnassri.svg?style=flat-square" /></a>
<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=UJ2B2BTK9VLRS&amp;on0=project&amp;os0=har-validator"><img alt="PayPal" src="http://img.shields.io/badge/paypal-donate-green.svg?style=flat-square" /></a>
<a href="https://flattr.com/submit/auto?user_id=ahmadnassri&amp;url=https://github.com/ahmadnassri/har-validator&amp;title=har-validator&amp;language=&amp;tags=github&amp;category=software"><img alt="Flattr" src="http://img.shields.io/badge/flattr-donate-green.svg?style=flat-square" /></a>
<a href="https://www.coinbase.com/checkouts/ae383ae6bb931a2fa5ad11cec115191e?name=har-validator"><img alt="Bitcoin" src="http://img.shields.io/badge/bitcoin-1Nb46sZRVG3or7pNaDjthcGJpWhvoPpCxy-green.svg?style=flat-square" /></a></p>

<h2 id="license">License</h2>

<p><a href="LICENSE">ISC License</a> &copy; <a href="https://www.ahmadnassri.com/">Ahmad Nassri</a></p>
