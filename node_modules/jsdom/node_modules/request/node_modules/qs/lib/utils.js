"use strict";var hexTable=function(){for(var e=new Array(256),r=0;256>r;++r)e[r]="%"+((16>r?"0":"")+r.toString(16)).toUpperCase();return e}();exports.arrayToObject=function(e,r){for(var t=r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)"undefined"!=typeof e[o]&&(t[o]=e[o]);return t},exports.merge=function(e,r,t){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];e[r]=!0}return e}if("object"!=typeof e)return[e].concat(r);var o=e;return Array.isArray(e)&&!Array.isArray(r)&&(o=exports.arrayToObject(e,t)),Object.keys(r).reduce(function(e,o){var n=r[o];return Object.prototype.hasOwnProperty.call(e,o)?e[o]=exports.merge(e[o],n,t):e[o]=n,e},o)},exports.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return e}},exports.encode=function(e){if(0===e.length)return e;for(var r="string"==typeof e?e:String(e),t="",o=0;o<r.length;++o){var n=r.charCodeAt(o);45===n||46===n||95===n||126===n||n>=48&&57>=n||n>=65&&90>=n||n>=97&&122>=n?t+=r.charAt(o):128>n?t+=hexTable[n]:2048>n?t+=hexTable[192|n>>6]+hexTable[128|63&n]:55296>n||n>=57344?t+=hexTable[224|n>>12]+hexTable[128|n>>6&63]+hexTable[128|63&n]:(o+=1,n=65536+((1023&n)<<10|1023&r.charCodeAt(o)),t+=hexTable[240|n>>18]+hexTable[128|n>>12&63]+hexTable[128|n>>6&63]+hexTable[128|63&n])}return t},exports.compact=function(e,r){if("object"!=typeof e||null===e)return e;var t=r||[],o=t.indexOf(e);if(-1!==o)return t[o];if(t.push(e),Array.isArray(e)){for(var n=[],c=0;c<e.length;++c)e[c]&&"object"==typeof e[c]?n.push(exports.compact(e[c],t)):"undefined"!=typeof e[c]&&n.push(e[c]);return n}for(var a=Object.keys(e),u=0;u<a.length;++u){var f=a[u];e[f]=exports.compact(e[f],t)}return e},exports.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},exports.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};