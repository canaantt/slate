(function(){function r(r,t){if(r[0]===t)return r.shift();throw new Error("Expected '"+t+"', but got '"+r[0]+"' instead in "+JSON.stringify(r)+".")}function t(r,t){return r[0]===t?r.shift():void 0}function n(n,e,u){var i;for(u&&r(n,e[0]),i=[];n.length&&n[0]!==e[1];)i.push(s(n)),t(n,",");return u&&r(n,e[1]),i}function e(r,t){return n(r,["[","]"],t)}function u(r,t){return n(r,["(",")"],t)}function i(n,e){var u,i;for(e&&r(n,"{"),u={};n.length&&(!e||"}"!==n[0]);)i=n.shift(),r(n,":"),u[i]=s(n),t(n,",");return e&&r(n,"}"),u}function s(r){switch(r[0]){case"[":return e(r,!0);case"(":return u(r,!0);case"{":return i(r,!0);default:return r.shift()}}function o(r,t){var n,o,f,c,a,h,l,g;if(n=t[0],o=n.type,f=n.structure,c=r.concat(),1!==t.length||!f&&"Array"!==o&&"Object"!==o?h=s(r):(a="array"===f||"Array"===o?e(r,"["===r[0]):"tuple"===f?u(r,"("===r[0]):i(r,"{"===r[0]),h=r.length?s("array"===f||"Array"===o?(l=c,l.unshift("["),l.push("]"),l):(g=c,g.unshift("("),g.push(")"),g)):a),r.length&&c.length)throw new Error("Unable to parse "+JSON.stringify(c)+" of type "+JSON.stringify(t)+".");return h}var f,c,a;f=require("prelude-ls").reject,c=/\[\]\(\)}{:,/.source,a=RegExp("(\"(?:[^\"]|\\\\\")*\")|('(?:[^']|\\\\')*')|(#.*#)|(/(?:\\\\/|[^/])*/[gimy]*)|(["+c+"])|([^\\s"+c+"]+)|\\s*"),module.exports=function(r,t){var n,e;if(n=f(function(r){return!r||/^\s+$/.test(r)},r.split(a)),e=o(n,t),!e)throw new Error("Error parsing '"+r+"'.");return e}}).call(this);