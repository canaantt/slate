(function(){function e(e,t,n){var r,i;return"Array"!==l.call(e).slice(8,-1)?{type:"Nothing"}:(r=t.of,{type:"Just",value:function(){var t,a,l,p=[];for(t=0,l=(a=e).length;l>t;++t)i=a[t],p.push(u(i,r,n));return p}()})}function t(e,t,n){var r,i,a,p,c,y,o;if("Array"!==l.call(e).slice(8,-1))return{type:"Nothing"};for(r=[],i=0,a=0,c=(p=t.of).length;c>a;++a)y=p[a],o=u(e[i],y,n),"Undefined"!==l.call(o).slice(8,-1)&&r.push(o),i++;return e.length<=i?{type:"Just",value:r}:{type:"Nothing"}}function n(e,t,n){var r,i,a;return"Object"!==l.call(e).slice(8,-1)?{type:"Nothing"}:(r=t.of,{type:"Just",value:function(){var t,l={};for(i in t=e)a=t[i],l[u(i,[{type:"String"}],n)]=u(a,r[i]||[{type:"*"}],n);return l}()})}function r(r,i,l){var p,c,y,o;if(p=i.type,c=i.structure,p){if(y=(null!=(o=l.customTypes[p])?o.cast:void 0)||a[p],!y)throw new Error("Type not defined: "+p+".");return y(r,l,u)}switch(c){case"array":return e(r,i,l);case"tuple":return t(r,i,l);case"fields":return n(r,i,l)}}function u(e,t,n){var u,a,l,p,c,y;for(u=0,a=t.length;a>u;++u)if(l=t[u],p=r(e,l,n),c=p.type,y=p.value,"Nothing"!==c&&i([l],y,{customTypes:n.customTypes}))return y;throw new Error("Value "+JSON.stringify(e)+" does not type check against "+JSON.stringify(t)+".")}var i,a,l={}.toString;i=require("type-check").parsedTypeCheck,a={"*":function(e,t){switch(l.call(e).slice(8,-1)){case"Array":return r(e,{type:"Array"},t);case"Object":return r(e,{type:"Object"},t);default:return{type:"Just",value:u(e,[{type:"Undefined"},{type:"Null"},{type:"NaN"},{type:"Boolean"},{type:"Number"},{type:"Date"},{type:"RegExp"},{type:"Array"},{type:"Object"},{type:"String"}],(t.explicit=!0,t))}}},Undefined:function(e){return"undefined"===e||void 0===e?{type:"Just",value:void 0}:{type:"Nothing"}},Null:function(e){return"null"===e?{type:"Just",value:null}:{type:"Nothing"}},NaN:function(e){return"NaN"===e?{type:"Just",value:NaN}:{type:"Nothing"}},Boolean:function(e){return"true"===e?{type:"Just",value:!0}:"false"===e?{type:"Just",value:!1}:{type:"Nothing"}},Number:function(e){return{type:"Just",value:+e}},Int:function(e){return{type:"Just",value:+e}},Float:function(e){return{type:"Just",value:+e}},Date:function(e,t){var n;return(n=/^\#([\s\S]*)\#$/.exec(e))?{type:"Just",value:new Date(+n[1]||n[1])}:t.explicit?{type:"Nothing"}:{type:"Just",value:new Date(+e||e)}},RegExp:function(e,t){var n;return(n=/^\/([\s\S]*)\/([gimy]*)$/.exec(e))?{type:"Just",value:new RegExp(n[1],n[2])}:t.explicit?{type:"Nothing"}:{type:"Just",value:new RegExp(e)}},Array:function(t,n){return e(t,{of:[{type:"*"}]},n)},Object:function(e,t){return n(e,{of:{}},t)},String:function(e){var t;return"String"!==l.call(e).slice(8,-1)?{type:"Nothing"}:(t=e.match(/^'([\s\S]*)'$/))?{type:"Just",value:t[1].replace(/\\'/g,"'")}:(t=e.match(/^"([\s\S]*)"$/))?{type:"Just",value:t[1].replace(/\\"/g,'"')}:{type:"Just",value:e}}},module.exports=u}).call(this);