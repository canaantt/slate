var test=require("tape"),wordwrap=require("../"),fs=require("fs"),idleness=fs.readFileSync(__dirname+"/idleness.txt","utf8");test("stop80",function(e){var s=wordwrap(80)(idleness).split(/\n/),n=idleness.split(/\s+/);s.forEach(function(s){e.ok(s.length<=80,"line > 80 columns");var t=s.match(/\S/)?s.split(/\s+/):[];e.deepEqual(t,n.splice(0,t.length))}),e.end()}),test("start20stop60",function(e){var s=wordwrap(20,100)(idleness).split(/\n/),n=idleness.split(/\s+/);s.forEach(function(s){e.ok(s.length<=100,"line > 100 columns");var t=s.split(/\s+/).filter(function(e){return e.match(/\S/)});e.deepEqual(t,n.splice(0,t.length)),e.deepEqual(s.slice(0,20),new Array(21).join(" "))}),e.end()});