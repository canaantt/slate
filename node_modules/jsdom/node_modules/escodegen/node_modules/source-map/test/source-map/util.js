/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(e,n,o){function s(e,n,o,s,t,r,i,a,c,u){if(!u){var m=i.originalPositionFor({line:e,column:n});a.equal(m.name,r,"Incorrect name, expected "+JSON.stringify(r)+", got "+JSON.stringify(m.name)),a.equal(m.line,s,"Incorrect line, expected "+JSON.stringify(s)+", got "+JSON.stringify(m.line)),a.equal(m.column,t,"Incorrect column, expected "+JSON.stringify(t)+", got "+JSON.stringify(m.column));var l;l=o&&i.sourceRoot&&0===o.indexOf(i.sourceRoot)?o:o?i.sourceRoot?A.join(i.sourceRoot,o):o:null,a.equal(m.source,l,"Incorrect source, expected "+JSON.stringify(l)+", got "+JSON.stringify(m.source))}if(!c){var f=i.generatedPositionFor({source:o,line:s,column:t});a.equal(f.line,e,"Incorrect line, expected "+JSON.stringify(e)+", got "+JSON.stringify(f.line)),a.equal(f.column,n,"Incorrect column, expected "+JSON.stringify(n)+", got "+JSON.stringify(f.column))}}function t(e,n,o){e.equal(n.version,o.version,"version mismatch"),e.equal(n.file,o.file,"file mismatch"),e.equal(n.names.length,o.names.length,"names length mismatch: "+n.names.join(", ")+" != "+o.names.join(", "));for(var s=0;s<n.names.length;s++)e.equal(n.names[s],o.names[s],"names["+s+"] mismatch: "+n.names.join(", ")+" != "+o.names.join(", "));e.equal(n.sources.length,o.sources.length,"sources length mismatch: "+n.sources.join(", ")+" != "+o.sources.join(", "));for(var s=0;s<n.sources.length;s++)e.equal(n.sources[s],o.sources[s],"sources["+s+"] length mismatch: "+n.sources.join(", ")+" != "+o.sources.join(", "));if(e.equal(n.sourceRoot,o.sourceRoot,"sourceRoot mismatch: "+n.sourceRoot+" != "+o.sourceRoot),e.equal(n.mappings,o.mappings,"mappings mismatch:\nActual:   "+n.mappings+"\nExpected: "+o.mappings),n.sourcesContent){e.equal(n.sourcesContent.length,o.sourcesContent.length,"sourcesContent length mismatch");for(var s=0;s<n.sourcesContent.length;s++)e.equal(n.sourcesContent[s],o.sourcesContent[s],"sourcesContent["+s+"] mismatch")}}var A=e("../../lib/source-map/util");n.testGeneratedCode=" ONE.foo=function(a){return baz(a);};\n TWO.inc=function(a){return a+1;};",n.testMap={version:3,file:"min.js",names:["bar","baz","n"],sources:["one.js","two.js"],sourceRoot:"/the/root",mappings:"CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA"},n.testMapNoSourceRoot={version:3,file:"min.js",names:["bar","baz","n"],sources:["one.js","two.js"],mappings:"CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA"},n.testMapEmptySourceRoot={version:3,file:"min.js",names:["bar","baz","n"],sources:["one.js","two.js"],sourceRoot:"",mappings:"CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA"},n.indexedTestMap={version:3,file:"min.js",sections:[{offset:{line:0,column:0},map:{version:3,sources:["one.js"],sourcesContent:[" ONE.foo = function (bar) {\n   return baz(bar);\n };"],names:["bar","baz"],mappings:"CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID",file:"min.js",sourceRoot:"/the/root"}},{offset:{line:1,column:0},map:{version:3,sources:["two.js"],sourcesContent:[" TWO.inc = function (n) {\n   return n + 1;\n };"],names:["n"],mappings:"CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOA",file:"min.js",sourceRoot:"/the/root"}}]},n.indexedTestMapDifferentSourceRoots={version:3,file:"min.js",sections:[{offset:{line:0,column:0},map:{version:3,sources:["one.js"],sourcesContent:[" ONE.foo = function (bar) {\n   return baz(bar);\n };"],names:["bar","baz"],mappings:"CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID",file:"min.js",sourceRoot:"/the/root"}},{offset:{line:1,column:0},map:{version:3,sources:["two.js"],sourcesContent:[" TWO.inc = function (n) {\n   return n + 1;\n };"],names:["n"],mappings:"CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOA",file:"min.js",sourceRoot:"/different/root"}}]},n.testMapWithSourcesContent={version:3,file:"min.js",names:["bar","baz","n"],sources:["one.js","two.js"],sourcesContent:[" ONE.foo = function (bar) {\n   return baz(bar);\n };"," TWO.inc = function (n) {\n   return n + 1;\n };"],sourceRoot:"/the/root",mappings:"CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA"},n.testMapRelativeSources={version:3,file:"min.js",names:["bar","baz","n"],sources:["./one.js","./two.js"],sourcesContent:[" ONE.foo = function (bar) {\n   return baz(bar);\n };"," TWO.inc = function (n) {\n   return n + 1;\n };"],sourceRoot:"/the/root",mappings:"CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA"},n.emptyMap={version:3,file:"min.js",names:[],sources:[],mappings:""},n.assertMapping=s,n.assertEqualMaps=t});