"use strict";function arrayMove(t,i,h,e,s){for(var n=0;s>n;++n)h[n+e]=t[n+i],t[n+i]=void 0}function Queue(t){this._capacity=t,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(t){return this._capacity<t},Queue.prototype._pushOne=function(t){var i=this.length();this._checkCapacity(i+1);var h=this._front+i&this._capacity-1;this[h]=t,this._length=i+1},Queue.prototype._unshiftOne=function(t){var i=this._capacity;this._checkCapacity(this.length()+1);var h=this._front,e=(h-1&i-1^i)-i;this[e]=t,this._front=e,this._length=this.length()+1},Queue.prototype.unshift=function(t,i,h){this._unshiftOne(h),this._unshiftOne(i),this._unshiftOne(t)},Queue.prototype.push=function(t,i,h){var e=this.length()+3;if(this._willBeOverCapacity(e))return this._pushOne(t),this._pushOne(i),void this._pushOne(h);var s=this._front+e-3;this._checkCapacity(e);var n=this._capacity-1;this[s+0&n]=t,this[s+1&n]=i,this[s+2&n]=h,this._length=e},Queue.prototype.shift=function(){var t=this._front,i=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,i},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(t){var i=this._capacity;this._capacity=t;var h=this._front,e=this._length,s=h+e&i-1;arrayMove(this,0,this,i,s)},module.exports=Queue;