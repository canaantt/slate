"use strict";module.exports=function(r){function e(r,e,t){this._instances=r,this._callback=e,this._promise=t}function t(r,e){var t={},n=o(r).call(t,e);if(n===s)return n;var i=a(t);return i.length?(s.e=new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),s):n}var n=require("./util.js"),i=require("./errors.js"),o=n.tryCatch,s=n.errorObj,a=require("./es5.js").keys,c=i.TypeError;return e.prototype.doFilter=function(e){for(var n=this._callback,i=this._promise,a=i._boundValue(),c=0,u=this._instances.length;u>c;++c){var l=this._instances[c],f=l===Error||null!=l&&l.prototype instanceof Error;if(f&&e instanceof l){var h=o(n).call(a,e);return h===s?(r.e=h.e,r):h}if("function"==typeof l&&!f){var p=t(l,e);if(p===s){e=s.e;break}if(p){var h=o(n).call(a,e);return h===s?(r.e=h.e,r):h}}}return r.e=e,r},e};