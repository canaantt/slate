var jsonfile=require("jsonfile"),lookup_elem=require("./lookup_elem.json"),manifest_elem=require("./manifest_elem.json"),helper=require("./testingHelper.js");helper.format.h1("Data Provenance"),helper.format.text("This section is dedicated to explain how the raw data were processed to generate new data models to fit to Oncoscape visualization tools. The section <a href='#data-content'>Data Content</a> explains the source and type of raw data."),helper.format.h2("Pipeline"),helper.format.text("![Data Processing Pipeline](/images/datapipeline2.svg)"),helper.format.h2("Oncoscape Interface"),helper.format.text("We use lookup as an hand-off from data-generation to data-utilization. Lookup reminds us the data are organized by diseases. And they have the subcategories: clinical, molecular. Each document of the lookup collection is to describe the organization of all the disease-related collection structure. Within each document, except for the organization of actual data collections, there is metadata section. "),helper.format.text("![One example of lookup do3cument](/images/lookup_doc.png)"),helper.format.text("The processed raw data are stored under 'calculated' and 'edges' in each document. The 'calculated' is explained in <a href='#cluster'>Cluster</a> while the 'edges' is explained in <a href='#network'>Network</a>."),helper.format.h3("Cluster"),helper.format.text("The cluster collections are generated to fit into two Oncoscape tools 'Markers and Patients' and 'PCA'. There are two Schemas for clutster collections: Multidimensional Scaling (MDS) and Principal component analysis (PCA)."),helper.format.textbold("MDS"),helper.format.textlist("Input Data:"),helper.format.textsublist("<a href='#data-type7'>cnv_thd</a>"),helper.format.textsublist("<a href='#data-type7'>mut01</a>"),helper.format.textlist("Mechanism:"),helper.format.text("cnv_thd and mut01 were combined and the distance matrix were calculated best represent the similarity of individual sample in the N-dimensional space."),helper.format.textlist("Schema"),helper.format.text("![mds collection schema](/images/mds.png)"),helper.format.textbold("PCA"),helper.format.textlist("Input Data:"),helper.format.textsublist("<a href='#data-type7'>expr</a> including RNA and Protein"),helper.format.textsublist("<a href='#data-type7'>cnv</a>"),helper.format.textlist("Mechanism:"),helper.format.text("The collection of each class will be processed respectively that distance matrices were generated to best represent the similarity of individual sample in the N-dimensional space."),helper.format.textlist("Schema"),helper.format.text("![pca scores collection schema](/images/pcascore.png)"),helper.format.text("![pca loading schema](/images/pcaloading.png)"),helper.format.textbold("Collection Organization"),helper.format.text("The naming convention of the derived collections includes the information from method, geneset as well as data class listed below."),helper.format.text("Methods | Genesets | Data Class"),helper.format.table("--------- | ----------- | -----------"),helper.format.table("PCA | All Genes | RNA"),helper.format.table("MDS | TCGA Pancan Mutated | Protein"),helper.format.table("    | Oncoplex | CNV/Mut01"),helper.format.table("    | Glioma Markers | Mut01"),helper.format.table("    | Oncoplex Vogelstein | CNV"),helper.format.table("    | TCGA GBM Classifiers |    "),helper.format.h3("Network"),helper.format.text("The network collections are generated to fit to Oncoscape tool 'Markers and Patients'. There are three Schemas for network collections: edges, patient weights and gene weights."),helper.format.textbold("Edges"),helper.format.text("Edges contain the information to define the edges connecting one patient sample with one gene. For each record the value may be integer between -2 to +2. If one gene in one patient sample has copy number variation, this information will be represented as -2 (deletion), or -1 (loss), or +1 (gain), or +2 (amplificaiton). If this gene on this patient sample doesn't have copy number variation but point mutation, this information will be represented as '0'. Otherwise, no record will be shown. "),helper.format.textlist("Schema"),helper.format.text("![edges schema](/images/edge.png)"),helper.format.textbold("Patient degrees"),helper.format.text("For a certain dataset, patient degrees record the number of altered genes (copy number variation and point mutation) for each patient."),helper.format.textlist("Schema"),helper.format.text("![ptdegree schema](/images/ptdegree.png)"),helper.format.textbold("Gene degrees"),helper.format.text("For a certain dataset, gene degrees record the number of patients who have this gene altered (either caused by copy number varation or point mutation)."),helper.format.textlist("Schema"),helper.format.text("![genedegree schema](/images/genedegree.png)");